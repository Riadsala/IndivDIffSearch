# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
#### To run before sup_mat ####
# this will read in all the data and produce a file of the data to be used in
# the sup_mat for plotting etc...
#### packages ####
library(tidyverse)
#### ACS ####
#### ACS: read in data ####
# set participants to look for
participants <- 1:75
participants <- participants[!(participants %in% c(18, 32, 48, 57))]
# setup empty frame
dat_ACS <- data.frame(SubNo = numeric(),
Trial = numeric(),
Block_trial = numeric(),
Block_num = numeric(),
Plateau_cond = numeric(),
Transition_cond = numeric(),
Run_number = numeric(),
Targ1_position = numeric(),
Targ2_position = numeric(),
FixationCheck = numeric(),
Red_targ_digit = numeric(),
Blue_targ_digit = numeric(),
Response = numeric(),
Targ_Choice = numeric(),
Acc = numeric(),
RT = numeric(),
Optimal_Choice = numeric(),
StarEndOptimal = numeric(),
Repeat_Switch = numeric(),
session = numeric())
for(pp in participants){
# get file name
temp <- dir(paste("../../Data/", pp, "/adaptchoice/", sep = ""))
# setup temp frame
d <- read.csv(paste("../../Data/", pp, "/adaptchoice/",
temp[1],
sep = ""),
skip = 3, header = T, sep = "\t")
# get session info
session <- strsplit(temp[1], '[_]')[[1]]
session <- substring(session[4],5,5)
# add in session info
d$session <- session
# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
View(dat_ACS)
rm(d, pp, session, temp)
View(dat_ACS)
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt")
head(temp)
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 2, sep = "\t")
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 2)
temp
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 2, as.is = T)
temp
temp[1]
as.character(temp)
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 1, as.is = T)
temp
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 1, header = F)
temp
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 2, header = F)
temp
temp <- read.csv("../../Data/1/foraging/Data_MultiTargForag_1_1.txt", nrows = 2, header = F, sep = "\t")
temp
temp[1,2]
temp[2,1]
idx = 1
pp = 1
temp <- dir("../../Data/", pp, "/foraging/", sep = "")
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
View(search_info)
substring(search_info[1,2])
substring(search_info[1,2],2,4)
substring(search_info[2,1],end)
length(search_info[2,1])
View(search_info)
search_type <- substring(search_info[2,1],14,14)
search_type <- substring(search_info[2,1],15,15)
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
View(d)
rm(list = ls())
#### To run before sup_mat ####
# this will read in all the data and produce a file of the data to be used in
# the sup_mat for plotting etc...
#### packages ####
library(tidyverse)
#### ACS ####
#### ACS: read in data ####
# set participants to look for
participants <- 1:75
participants <- participants[!(participants %in% c(18, 32, 48, 57))]
# setup empty frame
dat_ACS <- data.frame(SubNo = numeric(),
Trial = numeric(),
Block_trial = numeric(),
Block_num = numeric(),
Plateau_cond = numeric(),
Transition_cond = numeric(),
Run_number = numeric(),
Targ1_position = numeric(),
Targ2_position = numeric(),
FixationCheck = numeric(),
Red_targ_digit = numeric(),
Blue_targ_digit = numeric(),
Response = numeric(),
Targ_Choice = numeric(),
Acc = numeric(),
RT = numeric(),
Optimal_Choice = numeric(),
StarEndOptimal = numeric(),
Repeat_Switch = numeric(),
session = numeric())
# loop to get data
for(pp in participants){
# get file name
temp <- dir(paste("../../Data/", pp, "/adaptchoice/", sep = ""))
# setup temp frame
d <- read.csv(paste("../../Data/", pp, "/adaptchoice/",
temp[1],
sep = ""),
skip = 3, header = T, sep = "\t")
# get session info
session <- strsplit(temp[1], '[_]')[[1]]
session <- substring(session[4],5,5)
# add in session info
d$session <- session
# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
# tidy
rm(d, pp, session, temp)
#### Foraging ####
#### Foraging: read in data ####
# setup empty frame
dat_for <- data.frame(Trial = numeric(),
Click_Num = numeric(),
Target_Click_Order = numeric(),
Click_X = numeric(),
Click_y = numeric(),
Item_selected = numeric(),
Item_X = numeric(),
Item_Y = numeric(),
Target_Set = numeric(),
RT = numeric(),
sub_no = numeric(),
search_type = numeric(),
Targets = numeric())
# loop through to get all data
for(pp in participants){
for(idx in 1:2){
# get file name
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
# store this info
participant <- pp
search_type <- as.numeric(substring(search_info[2,1],15,15))
Targets <- as.numeric(substring(search_info[2,2],14,14))
# read in file
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
# add in new info
d$sub_no <- pp
d$search_type <- seach_type
d$Targets <- Targets
# bind
dat_for <- rbind(dat_for, d)
}
}
rm(list = ls())
#### To run before sup_mat ####
# this will read in all the data and produce a file of the data to be used in
# the sup_mat for plotting etc...
#### packages ####
library(tidyverse)
#### ACS ####
#### ACS: read in data ####
# set participants to look for
participants <- 1:75
participants <- participants[!(participants %in% c(18, 32, 48, 57))]
# setup empty frame
dat_ACS <- data.frame(SubNo = numeric(),
Trial = numeric(),
Block_trial = numeric(),
Block_num = numeric(),
Plateau_cond = numeric(),
Transition_cond = numeric(),
Run_number = numeric(),
Targ1_position = numeric(),
Targ2_position = numeric(),
FixationCheck = numeric(),
Red_targ_digit = numeric(),
Blue_targ_digit = numeric(),
Response = numeric(),
Targ_Choice = numeric(),
Acc = numeric(),
RT = numeric(),
Optimal_Choice = numeric(),
StarEndOptimal = numeric(),
Repeat_Switch = numeric(),
session = numeric())
# loop to get data
for(pp in participants){
# get file name
temp <- dir(paste("../../Data/", pp, "/adaptchoice/", sep = ""))
# setup temp frame
d <- read.csv(paste("../../Data/", pp, "/adaptchoice/",
temp[1],
sep = ""),
skip = 3, header = T, sep = "\t")
# get session info
session <- strsplit(temp[1], '[_]')[[1]]
session <- substring(session[4],5,5)
# add in session info
d$session <- session
# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
# tidy
rm(d, pp, session, temp)
#### Foraging ####
#### Foraging: read in data ####
# setup empty frame
dat_for <- data.frame(Trial = numeric(),
Click_Num = numeric(),
Target_Click_Order = numeric(),
Click_X = numeric(),
Click_y = numeric(),
Item_selected = numeric(),
Item_X = numeric(),
Item_Y = numeric(),
Target_Set = numeric(),
RT = numeric(),
sub_no = numeric(),
search_type = numeric(),
Targets = numeric())
# loop through to get all data
for(pp in participants){
for(idx in 1:2){
# get file name
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
# store this info
participant <- pp
search_type <- as.numeric(substring(search_info[2,1],15,15))
Targets <- as.numeric(substring(search_info[2,2],14,14))
# read in file
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
# add in new info
d$sub_no <- pp
d$search_type <- search_type
d$Targets <- Targets
# bind
dat_for <- rbind(dat_for, d)
}
}
search_type <- as.numeric(substring(search_info[2,1],15,15))
#### To run before sup_mat ####
# this will read in all the data and produce a file of the data to be used in
# the sup_mat for plotting etc...
#### packages ####
library(tidyverse)
#### ACS ####
#### ACS: read in data ####
# set participants to look for
participants <- 1:75
participants <- participants[!(participants %in% c(18, 32, 48, 57))]
# setup empty frame
dat_ACS <- data.frame(SubNo = numeric(),
Trial = numeric(),
Block_trial = numeric(),
Block_num = numeric(),
Plateau_cond = numeric(),
Transition_cond = numeric(),
Run_number = numeric(),
Targ1_position = numeric(),
Targ2_position = numeric(),
FixationCheck = numeric(),
Red_targ_digit = numeric(),
Blue_targ_digit = numeric(),
Response = numeric(),
Targ_Choice = numeric(),
Acc = numeric(),
RT = numeric(),
Optimal_Choice = numeric(),
StarEndOptimal = numeric(),
Repeat_Switch = numeric(),
session = numeric())
# loop to get data
for(pp in participants){
# get file name
temp <- dir(paste("../../Data/", pp, "/adaptchoice/", sep = ""))
# setup temp frame
d <- read.csv(paste("../../Data/", pp, "/adaptchoice/",
temp[1],
sep = ""),
skip = 3, header = T, sep = "\t")
# get session info
session <- strsplit(temp[1], '[_]')[[1]]
session <- substring(session[4],5,5)
# add in session info
d$session <- session
# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
# tidy
rm(d, pp, session, temp)
#### Foraging ####
#### Foraging: read in data ####
# setup empty frame
dat_for <- data.frame(Trial = numeric(),
Click_Num = numeric(),
Target_Click_Order = numeric(),
Click_X = numeric(),
Click_y = numeric(),
Item_selected = numeric(),
Item_X = numeric(),
Item_Y = numeric(),
Target_Set = numeric(),
RT = numeric(),
sub_no = numeric(),
search_type = numeric(),
Targets = numeric())
# loop through to get all data
for(pp in participants){
for(idx in 1:2){
# get file name
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
# store this info
participant <- pp
search_type <- substring(search_info[2,1],15,15)
Targets <- substring(search_info[2,2],14,14)
# read in file
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
# add in new info
d$sub_no <- pp
d$search_type <- search_type
d$Targets <- Targets
# bind
dat_for <- rbind(dat_for, d)
}
}
search_type <- substring(search_info[2,1],15,15)
View(dat_for)
for(n in 1:5) {
if(n==3) next # skip 3rd iteration and go to next iteration
cat(n)
}
nchar(temp[1])
nchar(temp[2])
dat_for <- data.frame(Trial = numeric(),
Click_Num = numeric(),
Target_Click_Order = numeric(),
Click_X = numeric(),
Click_y = numeric(),
Item_selected = numeric(),
Item_X = numeric(),
Item_Y = numeric(),
Target_Set = numeric(),
RT = numeric(),
sub_no = numeric(),
search_type = numeric(),
Targets = numeric())
# need to sort this as it doesn't quite work just yet
# some people are missing their second file
# loop through to get all data
for(pp in participants){
for(idx in 1:2){
# get file name
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
if(nchar(temp[idx])<25) next
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
# store this info
participant <- pp
search_type <- substring(search_info[2,1],15,15)
Targets <- substring(search_info[2,2],14,14)
# read in file
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
# add in new info
d$sub_no <- pp
d$search_type <- search_type
d$Targets <- Targets
# bind
dat_for <- rbind(dat_for, d)
}
}
rm(d, search_info, idx, participants, pp, participant, search_type, Targets, temp)
rm(n)
rm(list = ls())
#### To run before sup_mat ####
# this will read in all the data and produce a file of the data to be used in
# the sup_mat for plotting etc...
#### packages ####
library(tidyverse)
#### ACS ####
#### ACS: read in data ####
# set participants to look for
participants <- 1:75
participants <- participants[!(participants %in% c(18, 32, 48, 57))]
# setup empty frame
dat_ACS <- data.frame(SubNo = numeric(),
Trial = numeric(),
Block_trial = numeric(),
Block_num = numeric(),
Plateau_cond = numeric(),
Transition_cond = numeric(),
Run_number = numeric(),
Targ1_position = numeric(),
Targ2_position = numeric(),
FixationCheck = numeric(),
Red_targ_digit = numeric(),
Blue_targ_digit = numeric(),
Response = numeric(),
Targ_Choice = numeric(),
Acc = numeric(),
RT = numeric(),
Optimal_Choice = numeric(),
StarEndOptimal = numeric(),
Repeat_Switch = numeric(),
session = numeric())
# loop to get data
for(pp in participants){
# get file name
temp <- dir(paste("../../Data/", pp, "/adaptchoice/", sep = ""))
# setup temp frame
d <- read.csv(paste("../../Data/", pp, "/adaptchoice/",
temp[1],
sep = ""),
skip = 3, header = T, sep = "\t")
# get session info
session <- strsplit(temp[1], '[_]')[[1]]
session <- substring(session[4],5,5)
# add in session info
d$session <- session
# add to dataset
dat_ACS <- rbind(dat_ACS, d)
}
# tidy
rm(d, pp, session, temp)
#### Foraging ####
#### Foraging: read in data ####
# setup empty frame
dat_for <- data.frame(Trial = numeric(),
Click_Num = numeric(),
Target_Click_Order = numeric(),
Click_X = numeric(),
Click_y = numeric(),
Item_selected = numeric(),
Item_X = numeric(),
Item_Y = numeric(),
Target_Set = numeric(),
RT = numeric(),
sub_no = numeric(),
search_type = numeric(),
Targets = numeric())
# need to sort this as it doesn't quite work just yet
# some people are missing their second file
# loop through to get all data
for(pp in participants){
for(idx in 1:2){
# get file name
temp <- dir(paste("../../Data/", pp, "/foraging/", sep = ""))
# skip if string too short
if(nchar(temp[idx])<25) next
# search type info
search_info <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
nrows = 2, header = F, sep = "\t")
# store this info
participant <- pp
search_type <- substring(search_info[2,1],15,15)
Targets <- substring(search_info[2,2],14,14)
# read in file
d <- read.csv(paste("../../Data/", pp, "/foraging/", temp[idx], sep = ""),
skip = 2, header = T, sep = "\t")
# add in new info
d$sub_no <- pp
d$search_type <- search_type
d$Targets <- Targets
# bind
dat_for <- rbind(dat_for, d)
}
}
# tidy
rm(d, search_info, idx, participants, pp, participant, search_type, Targets, temp)
# save these files
save(dat_ACS, file = "scratch/dat_ACS")
save(dat_for, file = "scratch/dat_for")
rm(list = ls())
